I. Наименование
Литовский портал дороджных метеостанций Eismoinfo ("Трафикинфо").

II. Основной URL
https://eismoinfo.lt/

III. Характер имеющейся информации
    - фактическая: JSON, HTML, картинки.
    - архивная: txt/tsv, JSON(макс ретроспектива 182 часа(НА ВСЕХ СТАНЦИЯХ ПРОВЕРЕНО)).

IV. Особенности доступа
    - Количество запросов с одного IP в сутки:  официальная документация отсутствует.
    - Количество запросов с одного IP в сек: официальная документация отсутствует.

V. Характеристики ретроспективы:
     1. Архив txt/tsv.
        a. URL: https://drive.google.com/drive/folders/1f0TcSHstRcCGYfyf_Ru8NWEq4e30reEj
        b. Глубина архива:  c 01/01/2018 года.
        c. Количество станций(точек расчета) - 133
          Привязка к Gismeteo Index Station ??
        d. Периодичность сроков наблюдений ??
        e. Структура ответа, совместимость с нашими данными.

        "IRENGINYS" "УСТРОЙСТВО"                                            "�ni�rai�iai" (str)
        "RNG_ID" "ID СТАНЦИИ"                                               125 (int)
        "KELIO_NR" "НОМЕР ДОРОГИ"                                           "A9" (str)
        "KELIO_PAVADINIMAS" "НАЗВАНИЕ ДОРОГИ"                               "Panev��ys��iauliai"(str)
        "KM" "КМ"                                                            65,35 (float)
        "SURINKIMO_DATA" "ВРЕМЯ СБОРА ДАННЫХ"                                "2021-01-01 00:05" (str)
        "ORO_TEMP" "ТЕМПЕРАТУРА ВОЗДУХА"                                     "-1.3" (str)   
        "SANT_ORO_DREGME" "ВЛАЖНОСТЬ ВОЗДУХА"                                "99.1" (str)
        "VEJO_GREITIS" "МАКСИМАЛЬНАЯ СКОРОСТЬ ВЕТРА М/C"                     "1.5"  (str)
        "VEJO_KRYPTIS_LAIPS" "НАПРАВЛЕНИЕ ВЕТРА ГРАД."                       "121"  (str)
        "KD_PAV_TEMP" ????????                                               "-0.5" (str)
        "KD_SUKIBIMO_KOEF" "КОЭФИЦИЕНТ СЦЕПЛЕНИЯ"                            "0.77" (str)
        "VANDENS_SLUOKSNIO_STORIS" "ТОЛЩИНА СЛОЯ ВОДЫ, ММ"                   "0.04" (str)
        "LEDO_SLUOKSNIO_STORIS" "ТОЛЩИНА СЛОЯ ЛЬДА, ММ"                      "0" (str)
        "SNIEGO_SLUOKSNIO_STORIS" "ТОЛЩИНА СЛОЯ СНЕГА, ММ"                   "0" (str)   
        "KD_BUKLE" Вероятно состояние покрытия дороги                        "�lapia" лист  Dr�gna влажны Sausa сух.
        "KRITULIU_INTENS" "ИНТЕНСИВНОСТЬ ОСАДКОВ ММ/Ч"                            "0.24"
        "KRITULIU_TIPAS" "ТИП ОСАДКОВ"                                       "Sniegas, silpnas" Снег, слабый
        "MATOMUMO_VIDURKIS" "СРЕДНЯЯ ВИДИМОСТЬ"                              "2189" (str)
        "ISALAS_007" ?                                                       "1.7"
        "ISALAS_020"
        "ISALAS_050"
        "ISALAS_080"	
        "ISALAS_110"
        "ISALAS_130"
        "ISALAS_140"
        "ISALAS_170"
        "ISALAS_200"
        "P013_KD_BUKLE"
        "P066_KRITULIU_REISKINYS"
        "P066_KRITULIU_REISKINYS_TEXT"
        "P018_ESAMI_ORAI_WMO"
        "P018_ESAMI_ORAI"
        "P020_KRITULIU_TIPAS"
        "P021_VEJO_GREICIO_VIDURKIS"
        "�ni�rai�iai"	125	"A9"	"Panev��ys��iauliai"	65,35	"2021-01-01 00:05"	"-1.3"	"99.1"	"1.79"	"121"	"-0.5"	"0.77"	"0"	"0"	"0"	"Sausa"	"0"	"Sniegas, silpnas"	"246"	""	""	""	""	""	""	""	""	""	"1407"	""	""	"1804"	"Sniegas, silpnas"	"2189"	"1.7"
    2.  API эдпоинт архивных данных:
        a. URL: http://eismoinfo.lt/weather-conditions-retrospective/
        Query params:
        1. id - номер станции, обязательный параметр. При указании только его вернет последние 100 записей станции.
        2. time – временная метка unix для самых старых данных (необязательно). Если запросить временную метку больше допустимой - вернется пустой массив.
        3. number – количество данных <100(необязательно, по умолчанию возвращается 100 записей).
        b. Глубина архива: 181-182 часа с текущего момента.
        c. Срок жизни фактов ??
        d. Количество станций(точек расчета): 133
        e. Периодичность сроков наблюдений ??
        f. Структура ответа, совместимость с нашими данными.
        Структура ответа:

        Массив из JSON-словарей. Каждый словарь отображает данные одной и той же станции с опр. временным шагом.
        [
            {
            "surinkimo_data_unix(Временная метка сбора данных в формате unix, c)": "1725541577",
            "surinkimo_data"(Временная метка в формате "yyyy-mm-dd hh:mm"): "2024-09-05 16:06",
            "id(id станции)": "5351",
            "irenginys("Город"): "Vilnius",
            "numeris("Предположительно номер дороги"): "A1",
            "pavadinimas("Название дороги"): "Vilnius–Kaunas–Klaipėda",
            "kilometras(Километр)": "10.04",
            "oro_temperatura"(Температура воздуха): "25.8",
            "vejo_greitis_vidut(Средняя скорость ветра м/c)": "1.4",
            "krituliu_tipas(Тип осадков)": "Nėra(нету)",
            "krituliu_kiekis(Количество осадков мм)": "0",
            "dangos_temperatura(Температура дорожного покрытия)": "34.4",
            "matomumas(Видимость)": "20000",
            "rasos_taskas(Точка росы, С)": "12.26",
            "kelio_danga("Покрытие дороги"): "Sausa(Сухое)",
            "uzsalimo_taskas(Точка замерзания, С)": null,
            "vejo_greitis_maks(Максимальная скорость ветра м/c)": "5",
            "vejo_kryptis(Направление ветра)": "Rytų(Восточный)",
            "sukibimo_koeficientas(Коэфициент сцепления)": "0.82",
            "ilguma(Длинна)": "576154", ??
            "platuma(Ширина)": "6056867", ??
            "lat(Широта)": "54.64256",
            "lng(Долгота)": "25.179822",
            "konstrukcijos_temp_007(Температура конструкции)": null,
            konstrukcijos_temp_020(Температура конструкции)": null,
            "konstrukcijos_temp_050(Температура конструкции)": null,
            "konstrukcijos_temp_080(Температура конструкции)": null,
            "konstrukcijos_temp_110(Температура конструкции)": null,
            "konstrukcijos_temp_130(Температура конструкции)": null,
            "konstrukcijos_temp_140(Температура конструкции)": null,
            "konstrukcijos_temp_170(Температура конструкции)": null,
            "konstrukcijos_temp_200(Температура конструкции)": null
            }
        ]
!!!
У НЕКОТОРЫХ СТАНЦИЙ ПРИ ЗАПРОСЕ ПО КОЛИЧЕСТВУ ОТЧЕТОВ ВОЗВРАЩАЮТСЯ ОТЧЕТЫ НЕ ЗА ВСЕ СУТКИ ЦЕЛИКОМ(ID 1522,  ПЕРВЫЙ ОТЧЕТ 00:05, ПОСЛЕДНЫЙ 16:05)

ПРИ ЗАПРОСЕ ПО ID СТАНЦИИ И ВРЕМЕНИ РЕЗУЛЬТАТ ЭТО 100 ЗАПИСЕЙ C ДОСТАТОЧНО НЕПРЕДСТКАЗУЕМОЙ ПЕРВЫЙМ И ПОСЛЕДНИМ ВРЕМЕНАМ ОТЧЕТА.
![alt text](<Снимок экрана 2024-09-19 в 18.02.21.png>)








    Совместимость с данными Gismeteo:
    {
    "data": {
        "astro": {
            "sun": {
                "sunrise": "2024-09-10T05:52:13+03:00",
                "sunset": "2024-09-10T18:59:16+03:00",
                "polar": null
            },
            "moon": {
                "next_full": "2024-09-18T05:35:32+03:00",
                "previous_full": "2024-08-19T21:26:51+03:00",
                "phase": "first_quarter",
                "percent_illuminated": 41.3
            }
        },
        "icon": {
            "icon-weather": "d",
            "emoji": "☀️"
        },
        "kind": "ObsCor",
        "description": "Ясно",
        "date": {
            "UTC": "2024-09-10T11:00:00Z",
            "local": "2024-09-10T14:00:00Z",
            "unix": 1725966000, "surinkimo_data_unix(Временная метка сбора данных в формате unix, c)"
            "timeZoneOffset": 180
        },
        "city": {
            "name": "Москва",
            "nameP": "в Москве",
            "latitude": 55.755798,  "lat(Широта)": "54.64256",
            "longitude": 37.617599, "lng(Долгота)": "25.179822"
        },
        "wind": {
            "direction": {
                "degree": 150, "vejo_kryptis(Направление ветра)": "Rytų(Восточный)"
                "scale_8": 4
            },
            "speed": {
                "m_s": 2 , "vejo_greitis_vidut(Скорость ветра м/c)" (Средняя скорость на уровне "газона")
            },
            "gust_speed": {
                "m_s": null
            },
            "alternate_direction": false
        },
        "precipitation": { // вода в любом жидком или твердом состоянии достигающая земли в виде осадков.
            "type": 0, "krituliu_tipas(Тип осадков)": "Nėra(нету)" (Сопоставить наши типы и их)
            "type_ext": 0,
            "amount": 0, "krituliu_kiekis(Количество осадков мм)"
            "intensity": 0,
            "duration": 0
        },
        "temperature": {
            "air": {
                "C": 25.6 , "oro_temperatura"(Температура воздуха)"
            },
            "comfort": {
                "C": 25.6
            },
            "water": {
                "C": 17.9
            }
        },
        "storm": {
            "cape": 91.97,
            "prediction": false
        },
        "cloudiness": {
            "percent": 24,
            "scale_3": 0
        },
        "visibility": {
            "horizontal": {
                "m": 19000, "matomumas(Видимость)": "20000"
            }
        },
        "humidity": {
            "percent": 39,
            "dew_point": {
                "C": 10.7 , "rasos_taskas(Точка росы, С)": "12.26"
            }
        },
        "pressure": {
            "mm_hg_atm": 750
        }
    },
    "jsonapi": {
        "version": "3.5.1"
    },
    "meta": {
        "status": true,
        "status_code": 200
    }
}

VI. Сохранить сырые данные (в н.в., в виде отдельных файлов), провести их валидацию (//TODO отдельный документ), сохранить в спецлокации (получить URL у Антон Михайлов)/

VII. Осуществить конвертацию данных в согласованном с Антон Михайлов формате и передать Филиппу.

VIII. Подготовить парсер на автообработку, предусмотрев:
    - контроль ошибок (архив за прошлые сутки скачан полностью и успешно, после чего внести в - контрольную БД признак успеха)
    - Контроль работоспособности самого парсера (тест живости, мониторинг активности)
    - Контроль изменений источника (переход на п.3)

      

Описание

2015-06-16, 09:59 (Обновлено: 2024-09-02, 10:16) Открытые данные — это данные, которые каждый может свободно использовать, повторно использовать и распространять, в основном удовлетворяя требованию указания источника данных и требованию повторного использования. данные только при тех же условиях.[1] Акционерное общество «Via Lietuva» (далее – «Via Lietuva»), присоединившись к инициативе открытых данных в Литве, дает возможность каждому использовать первичные данные, доступные на «Via Lietuva». Такие данные могут свободно использовать разработчики различных мобильных или прикладных программ, исследователи и студенты, сотрудники частных и государственных компаний, а также другие лица или их группы. Пользователи данных несут ответственность за использование открытых данных. Также администраторы «Via Lietuva» не гарантируют, что доступность данных будет бесперебойной и безошибочной, что дефекты и ошибки в данных будут немедленно исправлены. Открытые данные Via Lietuva или ссылки на открытые данные доступны на сайтах 
- vialietuva.lt(нет ничего полезного), 
- eismoinfo.lt(погодные данные от API + с можно брать с вебсайта), архив данных в txt c 2018 года
доступен для скачивания: https://maps.eismoinfo.lt/portal/apps/sites/#/npp/pages/weather
- data.gov.lt - есть несколько API 
(https://data.gov.lt/datasets/?selected_facets=formats_exact%3A10&selected_facets=jurisdiction_exact%3A109)


Данные нескольких метеостанций

Рядом с национальными дорогами построены автоматические дорожные метеостанции, данные с которых собираются в национальную информационную систему дорожного движения. Дорожные метеостанции оснащены датчиками, которые собирают информацию, необходимую для определения дорожных условий и условий движения (покрытие дороги и температура воздуха, относительная влажность, точка росы, направление ветра, скорость и порывы, интенсивность и тип осадков, видимость, состояние дорожного покрытия), глубина промерзания конструкций и др.

Вы можете получить информацию о нескольких метеостанциях в формате JSON из следующих онлайн-сервисов:

Данные счетчика интенсивности трафика

Счетчики интенсивности дорожного движения предоставляют данные о количестве, скорости и направлении транспортных средств, проезжающих дорогу в месте установки, в Информационную систему дорожного движения государственного значения. Данные измерителя интенсивности дорожного движения (идентификатор счетчика, название, местоположение (номер дороги, название), местоположение устройства (км) и координаты x,y (WGS), однородный участок счетчика (начальная и конечная точки x,y), режимы скорости однородного участка ( зима, лето), средняя скорость вперед/назад, среднее количество автомобилей вперед/назад) можно получить в формате jSON с онлайн-сервиса:

http://eismoinfo.lt/traffic-intensity-service


API

Endpoint 1 - 'http://eismoinfo.lt/weather-conditions-current/

Вернет отчет по всем станциям за текущий момент времени.
query params не требуются.
Временная метка от станции к станции варируется в определенном диапазоне(до 15 минут).

Endpoint 2 - 'http://eismoinfo.lt/weather-conditions-retrospective/

id - номер станции, обязательный параметр. При указании только его вернет последние 100 записей станции.
time – временная метка unix для самых старых данных (необязательно). Если запросить временную метку больше допустимой - вернется пустой массив.
number – количество данных (необязательно, по умолчанию возвращается 100 записей).


1. Максимальное время за которое можно запросить архивные данные - 182 часа.(используя параметр time)
Проверить для всех ли станций одинаковое?
2. Макс. количество записей, которое можно вернуть по 1 станции????
3. Периодичность отчетов у каждой станции разная:
- у некоторых одинаковая между всеми отчетами(например 15 мин).
- у других варируется хаотично в рамках какого-то диапазона(например с 4 до 10 минут).


Website

На карте есть зоны промерзания земли įšãlo zonos, įšãlo gylis[см]  130 до 160 см.

